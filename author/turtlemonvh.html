<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Systems Doing - turtlemonvh</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Systems Doing  <strong>Looking for beauty in the complex and the simple.</strong></a></h1>
                <nav><ul>
                    <li><a href="/category/misc.html">misc</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/using-pelican-and-github-user-pages-to-setup-a-blog.html">Using pelican and github user pages to setup a blog</a></h1>
<footer class="post-info">
        <abbr class="published" title="2015-12-27T17:00:00-05:00">
                Published: Sun 27 December 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/turtlemonvh.html">turtlemonvh</a>
        </address>
<p>In <a href="/category/misc.html">misc</a>.</p>
<p>tags: <a href="/tag/meta.html">meta</a> </p>
</footer><!-- /.post-info --><p>This post explains how I set up this blog.</p>
<p>I wrote this partly for myself to make sure I had a well documented way to configure development, and partly for my sister <a href="https://twitter.com/woah_caitlyn">@woah_caitlyn</a> so she could copy any useful parts to make sites for herself and for friends.</p>
<h2>Create repository</h2>
<p>First, I followed the instructions at: <a href="https://pages.github.com/">https://pages.github.com/</a> and created a new github repo to hold the blog code. </p>
<p>My site is: <a href="turtlemonvh.github.io">turtlemonvh.github.io</a> (source code: <a href="https://github.com/turtlemonvh/turtlemonvh.github.io">https://github.com/turtlemonvh/turtlemonvh.github.io</a>)</p>
<p>Then I cloned the site down locally so I could work on it and checked out a branch named <code>source</code>.  (See the note below on "Github pages branch names" to see why I used a difference branch than <code>master</code>)</p>
<h2>Pelican setup</h2>
<p>I followed the instructions <a href="http://docs.getpelican.com/en/stable/quickstart.html">in the quickstart</a> to set up pelican.  One change is that I ran <code>pip install pelican markdown ghp-import</code> to get the <code>ghp-import</code> package too.</p>
<p>Next I ran <code>pelican-quickstart</code> to generate the initial content. Here are the values I used at the prompts.</p>
<div class="highlight"><pre>&gt; Where do you want to create your new web site? [.]
&gt; What will be the title of this web site? Systems Doing
&gt; Who will be the author of this web site? turtlemonvh
&gt; What will be the default language of this web site? [en]
&gt; Do you want to specify a URL prefix? e.g., http://example.com   (Y/n) Y
&gt; What is your URL prefix? (see above example; no trailing slash) http://turtlemonvh.github.io/
&gt; Do you want to enable article pagination? (Y/n) Y
&gt; How many articles per page do you want? [10]
&gt; What is your time zone? [Europe/Paris] America/New_York
&gt; Do you want to generate a Fabfile/Makefile to automate generation and publishing? (Y/n) n
&gt; Do you want an auto-reload &amp; simpleHTTP script to assist with theme and site development? (Y/n) Y
Done. Your new project is available at /Users/timothy/Projects/turtlemonvh.github.io
</pre></div>


<p>I also edited the settings file (<code>pelicanconf.py</code>).  You can see my current settings <a href="https://github.com/turtlemonvh/turtlemonvh.github.io/blob/source/pelicanconf.py">on github</a>.  You can also see more docs on settings options <a href="http://docs.getpelican.com/en/latest/settings.html">in the pelican docs</a>.</p>
<h2>Publishing</h2>
<p>Next, I started the pelican development server to watch for changes and serve the site locally.</p>
<div class="highlight"><pre>./develop_server.sh start
</pre></div>


<p>After this you can preview your site at: <a href="http://localhost:8000/">http://localhost:8000/</a></p>
<p>Then I created my first bit of content in the <code>content</code> directory.  See more docs on writing content <a href="http://docs.getpelican.com/en/latest/content.html">here</a>.  I used <a href="https://en.wikipedia.org/wiki/Markdown">markdown</a> since I'm familiar with it from a lot of other applications.  You may know it from <a href="https://help.github.com/articles/github-flavored-markdown/">github READMEs</a>.</p>
<p>Lastly I needed to publish the generated content (in the <code>output</code> directory) to the <code>master</code> branch so the content would be found by github.</p>
<div class="highlight"><pre><span class="c"># Add a commit with new generated output</span>
ghp-import -b master output

<span class="c"># Switch branches and push</span>
git checkout master
git push origin master

<span class="c"># OR</span>

<span class="c"># Pushes for you automatically so you don&#39;t have to switch branches</span>
ghp-import -b master -p output
</pre></div>


<p>See more options for the <code>ghp-import</code> command <a href="https://github.com/davisp/ghp-import">in the project' README</a>.</p>
<p>After that I could see all my content at: <a href="http://turtlemonvh.github.io/">http://turtlemonvh.github.io/</a></p>
<h2>Notes</h2>
<h3>Github pages branch names</h3>
<p>The documentation on where to put generated content for githib pages was kind of conflicting.  Most docs say to put it on a <code>gh-pages</code> branch (e.g. <a href="http://docs.getpelican.com/en/stable/tips.html#publishing-to-github">pelican docs</a>, <a href="https://help.github.com/articles/using-jekyll-with-pages/">github docs showing how to use jekyll</a>), but <a href="https://pages.github.com/">the docs for githib pages</a> implies that the <code>master</code> branch should be used.</p>
<p>If you are generating a static site for a single repo, you still want to use the <code>gh-pages</code> branch.  For example, for my <a href="https://github.com/turtlemonvh/traffic-monitor">traffic monitor project</a> I created <a href="http://turtlemonvh.github.io/traffic-monitor/">a site to visualize data with javascript</a> using <a href="https://github.com/turtlemonvh/traffic-monitor/tree/gh-pages">a <code>gh-pages</code> branch</a>.</p>
<p>But for user and organization sites github handles things differently and it looks for contant on the <code>master</code> branch.  That means that you need to put the source for your articles, your configuration, etc. on a non-master branch.</p>
<p>My solution to this was to move all my source code over to <code>source</code> and then use <code>gh-import</code> to dump generated content onto the <code>master</code> branch.</p>
<h3>More things to do</h3>
<p>Here are some things that I didn't do, but you may want to explore.</p>
<h4>Custom themes</h4>
<p>Cloned this repository into <code>~/pelican-themes</code>: <a href="https://github.com/getpelican/pelican-themes">https://github.com/getpelican/pelican-themes</a></p>
<h4>Custom domain name</h4>
<p>You can follow these directions if you want a custom domain name (like myspecialblog.com): <a href="https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/">https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/</a>)</p>
<h4>Disqus comments</h4>
<p>I <a href="https://github.com/getpelican/pelican-plugins/tree/master/disqus_static">don't think this is too hard</a>, but I leave that for later.  For now if you have any questions, find me on twitter.</p>                </article>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="https://www.ionic.com/blog/">Ionic blog</a></li>
                            <li><a href="http://turtle-philosophy.blogspot.com/">My old blog</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/turtlemonvh">twitter</a></li>
                            <li><a href="https://about.me/turtlemonvh">about.me</a></li>
                            <li><a href="https://github.com/turtlemonvh">github</a></li>
                            <li><a href="https://www.linkedin.com/in/vanheetm">linkedin</a></li>
                            <li><a href="https://bitbucket.org/">bitbucket</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>