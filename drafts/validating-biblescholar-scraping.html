<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Validating BibleScholar Scraping</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Systems Doing  <strong>Looking for beauty in the complex and the simple.</strong></a></h1>
                <nav><ul>
                    <li><a href="/pages/home.html">Home</a></li>
                    <li><a href="/pages/projects.html">Projects</a></li>
                    <li class="active"><a href="/category/articles.html">Articles</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/drafts/validating-biblescholar-scraping.html" rel="bookmark"
           title="Permalink to Validating BibleScholar Scraping">Validating BibleScholar Scraping</a></h1>
<a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="turtlemonvh">Tweet</a><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-02T14:00:00-05:00">
                Published: Mon 02 January 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/turtlemonvh.html">turtlemonvh</a>
        </address>
<p>In <a href="/category/articles.html">Articles</a>.</p>
<p>tags: <a href="/tag/python.html">python</a> <a href="/tag/scraping.html">scraping</a> <a href="/tag/biblescholar.html">biblescholar</a> </p>
</footer><!-- /.post-info -->      <p>The is the diff between the ESV and NIV verses, created by running the following command on the generated TSV files.</p>
<div class="highlight"><pre><span></span><span class="c1"># Generate files like &quot;&lt;book&gt; &lt;chapter&gt; &lt;verse&gt;&quot;</span>
cat NIV.tsv <span class="p">|</span> awk -F<span class="s2">&quot;\t&quot;</span> <span class="s1">&#39;{print $2, $3, $4}&#39;</span> &gt; NIV.verses
cat ESV.tsv <span class="p">|</span> awk -F<span class="s2">&quot;\t&quot;</span> <span class="s1">&#39;{print $2, $3, $4}&#39;</span> &gt; ESV.verses
cat HCSB.tsv <span class="p">|</span> awk -F<span class="s2">&quot;\t&quot;</span> <span class="s1">&#39;{print $2, $3, $4}&#39;</span> &gt; HCSB.verses

<span class="c1"># Compare them with diff commands (below)</span>
</pre></div>


<p>The first major difference was for the book that comes after Ecclisiastes and before Isaiah.  HCSB, ESV, and KJV all call it "Song of Solomon" but NIV calls it "Song of Songs".  So when comparing with NIV, there were some significant diffs, but I was just checking that all chapters and verses were ok, so I skipped those.</p>
<p>I validated that every difference where the verse is present in the NIV and not in the ESV is supposed to be missing; i.e. some versions leave out the verse, and the ESV left it out and mentions it in a footnote instead.</p>
<p>There was only 1 case where a verse was present in the ESV and NOT in the NIV.  In that case the content is the same between the NIV and ESV, they just chose to split the final verse of the book at a different place.</p>
<div class="highlight"><pre><span></span>$ diff ESV.verses NIV.verses
<span class="o">(</span>... a bunch of things complaining about <span class="s2">&quot;Song of Solo&quot;</span><span class="o">)</span>
&gt; Matthew <span class="m">12</span> 47
23720a23722
&gt; Matthew <span class="m">17</span> 21
23736a23739
&gt; Matthew <span class="m">18</span> 11
23929a23933
&gt; Matthew <span class="m">23</span> 14
24475a24480
&gt; Mark <span class="m">7</span> <span class="m">16</span> 
24577a24583
&gt; Mark <span class="m">9</span> <span class="m">44</span> 
24578a24585
&gt; Mark <span class="m">9</span> <span class="m">46</span> 
24659a24667
&gt; Mark <span class="m">11</span> <span class="m">26</span> 
24846a24855
&gt; Mark <span class="m">15</span> <span class="m">28</span> 
25678a25688
&gt; Luke <span class="m">17</span> <span class="m">36</span> 
25942a25953
&gt; Luke <span class="m">23</span> <span class="m">17</span> 
26203a26215
&gt; John <span class="m">5</span> <span class="m">4</span> 
27201a27214
&gt; Acts <span class="m">8</span> 37
27463a27477
&gt; Acts <span class="m">15</span> 34
27762a27777
&gt; Acts <span class="m">24</span> 7
27913a27929
&gt; Acts <span class="m">28</span> 29
28344a28361
&gt; Romans <span class="m">16</span> 24
30657d30673
&lt; <span class="m">3</span> John <span class="m">1</span> 15
</pre></div>


<p>Now that those 2 look ok, let's check HCSB.</p>
<div class="highlight"><pre><span></span>$ diff NIV.verses HCSB.verses
27477d27476
&lt; Acts <span class="m">15</span> 34
29058d29056
&lt; <span class="m">2</span> Corinthians <span class="m">13</span> 14
30909a30908
&gt; Revelation <span class="m">12</span> 18
</pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="https://www.ionic.com/blog/">Ionic blog</a></li>
                            <li><a href="http://turtle-philosophy.blogspot.com/">My old blog</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/turtlemonvh">twitter</a></li>
                            <li><a href="https://about.me/turtlemonvh">about.me</a></li>
                            <li><a href="https://github.com/turtlemonvh">github</a></li>
                            <li><a href="https://www.linkedin.com/in/vanheetm">linkedin</a></li>
                            <li><a href="https://bitbucket.org/turtlemonvh/">bitbucket</a></li>
                            <li><a href="http://stackoverflow.com/users/790075/turtlemonvh">stackoverflow</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'turtlemonvh-github-io';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>