
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://turtlemonvh.github.io/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://turtlemonvh.github.io/theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="https://turtlemonvh.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://turtlemonvh.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://turtlemonvh.github.io/theme/font-awesome/css/solid.css">












 

<meta name="author" content="turtlemonvh" />
<meta name="description" content="As with any data scraping tool, verifying correctness in BibleScholar&#39;s verse scraping utilities was pretty important. After my first run through verses, here is what I was seeing between versions. Note that this is before I added the ESV translation, which as you&#39;ll see below is the version with the …" />
<meta name="keywords" content="python, scraping, biblescholar">


  <meta property="og:site_name" content="Systems Doing"/>
  <meta property="og:title" content="Validating BibleScholar Scraping"/>
  <meta property="og:description" content="As with any data scraping tool, verifying correctness in BibleScholar&#39;s verse scraping utilities was pretty important. After my first run through verses, here is what I was seeing between versions. Note that this is before I added the ESV translation, which as you&#39;ll see below is the version with the …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://turtlemonvh.github.io/validating-biblescholar-scraping.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2017-01-02 14:00:00-05:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="https://turtlemonvh.github.io/author/turtlemonvh.html">
  <meta property="article:section" content="Articles"/>
  <meta property="article:tag" content="python"/>
  <meta property="article:tag" content="scraping"/>
  <meta property="article:tag" content="biblescholar"/>
  <meta property="og:image" content="//s.gravatar.com/avatar/fdb8ce54c398b1aa794833a601507361?s=120">

  <title>Systems Doing &ndash; Validating BibleScholar Scraping</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="https://turtlemonvh.github.io/">
      <img src="//s.gravatar.com/avatar/fdb8ce54c398b1aa794833a601507361?s=120" alt="Systems Doing" title="Systems Doing">
    </a>

    <h1>
      <a href="https://turtlemonvh.github.io/">Systems Doing</a>
    </h1>

    <p>Looking for beauty in the complex and the simple.</p>


    <nav>
      <ul class="list">


            <li>
              <a target="_self"
                 href="https://turtlemonvh.github.io/pages/home.html">
                Home
              </a>
            </li>
            <li>
              <a target="_self"
                 href="https://turtlemonvh.github.io/pages/projects.html">
                Projects
              </a>
            </li>

          <li>
            <a target="_self" href="https://about.me/turtlemonvh" >about.me</a>
          </li>
          <li>
            <a target="_self" href="https://www.dropbox.com/scl/fi/iqwp08l5mlb0gnv3kq5dm/TVH-Resume-2023-09-09.pdf?rlkey=4ixwskt3m9f4ceqcnnes2hrfn&raw=1" >resume</a>
          </li>
          <li>
            <a target="_self" href="http://turtle-philosophy.blogspot.com/" >old blog</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-twitter"
           href="https://twitter.com/turtlemonvh"
           target="_blank">
          <i class="fa-brands fa-twitter"></i>
        </a>
      </li>
      <li>
        <a class="sc-github"
           href="https://github.com/turtlemonvh"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
      <li>
        <a class="sc-linkedin"
           href="https://www.linkedin.com/in/vanheetm"
           target="_blank">
          <i class="fa-brands fa-linkedin"></i>
        </a>
      </li>
      <li>
        <a class="sc-bitbucket"
           href="https://bitbucket.org/turtlemonvh/"
           target="_blank">
          <i class="fa-brands fa-bitbucket"></i>
        </a>
      </li>
      <li>
        <a class="sc-stack-overflow"
           href="http://stackoverflow.com/users/790075/turtlemonvh"
           target="_blank">
          <i class="fa-brands fa-stack-overflow"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="validating-biblescholar-scraping">Validating BibleScholar Scraping</h1>
    <p>
      Posted on Mon 02 January 2017 in <a href="https://turtlemonvh.github.io/category/articles.html">Articles</a>

    </p>
  </header>


  <div>
    <p>As with any data scraping tool, verifying correctness in BibleScholar's verse scraping utilities was pretty important.  After my first run through verses, here is what I was seeing between versions.  Note that this is before I added the ESV translation, which as you'll see below is the version with the largest differences to other translations.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>wc<span class="w"> </span>-l<span class="w"> </span>*.tsv
<span class="w">   </span><span class="m">30926</span><span class="w"> </span>HCSB.tsv
<span class="w">   </span><span class="m">31102</span><span class="w"> </span>KJV.tsv
<span class="w">   </span><span class="m">30852</span><span class="w"> </span>NIV.tsv
<span class="w">   </span><span class="m">92880</span><span class="w"> </span>total
</code></pre></div>

<p>Hmmm.  Something smells fishy here.  I know that some versions chose to leave out some verses or split verses in different places, but a difference of 250 verses between NIV and KJV (which I know to be similar translations) looked to be beyond a normal standard of error.  To fix this, I took the following steps.</p>
<hr>
<h2>Step 1: See where the differences are and fix bugs in the processing script</h2>
<p>All the verses were stored in tsv format (<code>&lt;translation&gt; &lt;book&gt; &lt;chapter&gt; &lt;verse #&gt; &lt;text&gt;</code>).  To make the analysis quick, I just extracted the <code>&lt;book&gt; &lt;chapter&gt; &lt;verse #&gt;</code> parts of the line into a file I named <code>.verses</code> do I could use <a href="http://man7.org/linux/man-pages/man1/diff.1.html">diff</a> to check for differences between what verses were included.  The commands to create these files and produce the diffs were as follows.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Generate files like &quot;&lt;book&gt; &lt;chapter&gt; &lt;verse&gt;&quot;</span>
cat<span class="w"> </span>NIV.tsv<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span>-F<span class="s2">&quot;\t&quot;</span><span class="w"> </span><span class="s1">&#39;{print $2, $3, $4}&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>NIV.verses
cat<span class="w"> </span>ESV.tsv<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span>-F<span class="s2">&quot;\t&quot;</span><span class="w"> </span><span class="s1">&#39;{print $2, $3, $4}&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>ESV.verses
cat<span class="w"> </span>HCSB.tsv<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span>-F<span class="s2">&quot;\t&quot;</span><span class="w"> </span><span class="s1">&#39;{print $2, $3, $4}&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>HCSB.verses

<span class="c1"># Diff 2 versions</span>
diff<span class="w"> </span>NIV.verses<span class="w"> </span>ESV.verses
</code></pre></div>

<p>My process I used was</p>
<ol>
<li>Find a verse that was missing in 1 version and present in another</li>
<li>Try to figure out why (could just be a difference in versions, but usually was a parsing error)</li>
<li>Fix the script responsible for extracting verses from a page</li>
<li>Re-create the TSV files</li>
<li>Return to step 1 and repeat until no more unexplained diffs appear.</li>
</ol>
<p>You can see the series of changes I made to the script in this <a href="https://github.com/turtlemonvh/biblescholar/commit/b21bed269c7ae4a31853a03f2ff00caba02c1e1a">git diff</a>.  In addition to fixing bugs that were causing some verses to be skipped, these changes also fix bugs where only parts of verses were included.</p>
<h2>Step 2: Validate remaining changes line by line</h2>
<p>After these changes, the line count difference was much better.  Note that KJV and NIV now have exactly the same verses.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>wc<span class="w"> </span>-l<span class="w"> </span>*.tsv
<span class="w">   </span><span class="m">31086</span><span class="w"> </span>ESV.tsv
<span class="w">   </span><span class="m">31101</span><span class="w"> </span>HCSB.tsv
<span class="w">   </span><span class="m">31102</span><span class="w"> </span>KJV.tsv
<span class="w">   </span><span class="m">31102</span><span class="w"> </span>NIV.tsv
<span class="w">  </span><span class="m">124391</span><span class="w"> </span>total
</code></pre></div>

<p>However, there is we still see some differences when we look at individual diffs, and we want to make sure that all those changes are explained away as intended differences between the versions.</p>
<h3>Version comparison: NIV vs ESV</h3>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>diff<span class="w"> </span>ESV.verses<span class="w"> </span>NIV.verses
<span class="o">(</span>...<span class="w"> </span>a<span class="w"> </span>bunch<span class="w"> </span>of<span class="w"> </span>things<span class="w"> </span>complaining<span class="w"> </span>about<span class="w"> </span>naming<span class="w"> </span>of<span class="w"> </span><span class="s2">&quot;Song of Solomon&quot;</span><span class="w"> </span>book<span class="o">)</span>
&gt;<span class="w"> </span>Matthew<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">47</span>
23720a23722
&gt;<span class="w"> </span>Matthew<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">21</span>
23736a23739
&gt;<span class="w"> </span>Matthew<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">11</span>
23929a23933
&gt;<span class="w"> </span>Matthew<span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">14</span>
24475a24480
&gt;<span class="w"> </span>Mark<span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">16</span><span class="w"> </span>
24577a24583
&gt;<span class="w"> </span>Mark<span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="m">44</span><span class="w"> </span>
24578a24585
&gt;<span class="w"> </span>Mark<span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="m">46</span><span class="w"> </span>
24659a24667
&gt;<span class="w"> </span>Mark<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">26</span><span class="w"> </span>
24846a24855
&gt;<span class="w"> </span>Mark<span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">28</span><span class="w"> </span>
25678a25688
&gt;<span class="w"> </span>Luke<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">36</span><span class="w"> </span>
25942a25953
&gt;<span class="w"> </span>Luke<span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="m">17</span><span class="w"> </span>
26203a26215
&gt;<span class="w"> </span>John<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">4</span><span class="w"> </span>
27201a27214
&gt;<span class="w"> </span>Acts<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="m">37</span>
27463a27477
&gt;<span class="w"> </span>Acts<span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">34</span>
27762a27777
&gt;<span class="w"> </span>Acts<span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">7</span>
27913a27929
&gt;<span class="w"> </span>Acts<span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="m">29</span>
28344a28361
&gt;<span class="w"> </span>Romans<span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">24</span>
30657d30673
&lt;<span class="w"> </span><span class="m">3</span><span class="w"> </span>John<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">15</span>
</code></pre></div>

<p>The first major difference was for <a href="https://en.wikipedia.org/wiki/Song_of_Songs">the book that comes after Ecclesiastes and before Isaiah</a>.  HCSB, ESV, and KJV all call it "Song of Solomon" but NIV (and Wikipedia, apparently) calls it "Song of Songs".  So when comparing with NIV, all verses in that chapter were marked as different.  But since I was just checking that all chapters and verses were included and not verifying that book names were the same, once I saw that the actual verses in that book were the same between all the other translations (e.g. ESV vs HCSB) I ignored those lines in the diff.</p>
<p>After that, I validated that every verse marked as present in the NIV and not present in the ESV is supposed to be missing.  I checked each one, and for each the ESV mentions that that verse was intentionally left out in a footnote.</p>
<p>There was only 1 case where a verse was present in the ESV and NOT in the NIV (<a href="https://www.biblegateway.com/passage/?search=3+John+1&amp;version=ESV">3 John 1:15</a>).  In that case the content is pretty much the same between the 2 translations.  They just chose to split the final verse of the book at a different place.</p>
<p>For the remainder of the comparisons, I use the NIV as the standard because it had more verses than the HCSB.</p>
<h3>Version comparison: NIV vs HCSB</h3>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>diff<span class="w"> </span>NIV.verses<span class="w"> </span>HCSB.verses
27477d27476
&lt;<span class="w"> </span>Acts<span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">34</span>
29058d29056
&lt;<span class="w"> </span><span class="m">2</span><span class="w"> </span>Corinthians<span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">14</span>
30909a30908
&gt;<span class="w"> </span>Revelation<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">18</span>
</code></pre></div>

<p>Checking out these diffs, we find:</p>
<ul>
<li>NIV and HCSB <em>both</em> leave out <a href="https://www.biblegateway.com/passage/?search=Acts+15&amp;version=NIV">Acts 15:34</a>, but NIV had a stub for the verse in the HTML.  The following is what the verses look like in the produced tsv files:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nv">NIV</span><span class="w"> </span><span class="nv">Acts</span><span class="w">    </span><span class="mi">15</span><span class="w">  </span><span class="mi">33</span><span class="w">  </span><span class="nv">After</span><span class="w"> </span><span class="nv">spending</span><span class="w"> </span><span class="nv">some</span><span class="w"> </span><span class="nv">time</span><span class="w"> </span><span class="nv">there</span>,<span class="w"> </span><span class="nv">they</span><span class="w"> </span><span class="nv">were</span><span class="w"> </span><span class="nv">sent</span><span class="w"> </span><span class="nv">off</span><span class="w"> </span><span class="nv">by</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">believers</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">blessing</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">peace</span><span class="w">  </span><span class="nv">to</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">those</span><span class="w"> </span><span class="nv">who</span><span class="w"> </span><span class="nv">had</span><span class="w"> </span><span class="nv">sent</span><span class="w"> </span><span class="nv">them</span>.
<span class="nv">NIV</span><span class="w"> </span><span class="nv">Acts</span><span class="w">    </span><span class="mi">15</span><span class="w">  </span><span class="mi">34</span><span class="w">  </span>
<span class="nv">NIV</span><span class="w"> </span><span class="nv">Acts</span><span class="w">    </span><span class="mi">15</span><span class="w">  </span><span class="mi">35</span><span class="w">  </span><span class="nv">But</span><span class="w"> </span><span class="nv">Paul</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">Barnabas</span><span class="w"> </span><span class="nv">remained</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">Antioch</span>,<span class="w"> </span><span class="nv">where</span><span class="w"> </span><span class="nv">they</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">many</span><span class="w"> </span><span class="nv">others</span><span class="w"> </span><span class="nv">taught</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">preached</span><span class="w">  </span><span class="nv">the</span><span class="w"> </span><span class="nv">word</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">Lord</span>.
</code></pre></div>

<ul>
<li>HCSB leaves out <a href="https://www.biblegateway.com/passage/?search=2+Corinthians+13&amp;version=HCSB">2 Corinthians 13:14</a></li>
<li>NIV leaves out <a href="https://www.biblegateway.com/passage/?search=Revelation+12&amp;version=HCSB">Revelation 12:18</a></li>
</ul>
<p>So those look fine.</p>
<h3>Version comparison: NIV vs KJV</h3>
<p>Finally, we compare KJV to NIV.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>diff<span class="w"> </span>NIV.verses<span class="w"> </span>KJV.verses
<span class="o">(</span>...<span class="w"> </span>aside<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>Song<span class="w"> </span>of<span class="w"> </span>Solomon<span class="w"> </span>naming<span class="w"> </span>difference,<span class="w"> </span>no<span class="w"> </span>difference<span class="o">)</span>
</code></pre></div>

<p>Nice!  The translations that originally started out with a 250 verse difference are now exactly the same.</p>
<h2>Step 3: Reindex the data</h2>
<p>Since I already created tooling for this, this was pretty easy.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Back up existing database</span>
<span class="o">$</span><span class="w"> </span><span class="n">mv</span><span class="w"> </span><span class="n">verses</span><span class="o">.</span><span class="n">bleve</span><span class="w"> </span><span class="n">verses</span><span class="o">.</span><span class="n">bleve</span><span class="o">.</span><span class="n">bk</span>

<span class="c1"># Make a new one</span>
<span class="c1"># Reindexing took &lt;30s per version, so after 2 minutes I had a brand new database</span>
<span class="o">$</span><span class="w"> </span><span class="n">artifacts</span><span class="o">/</span><span class="n">biblescholar</span><span class="o">-</span><span class="n">darwin</span><span class="o">-</span><span class="n">amd64</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="o">../</span><span class="n">downloads</span><span class="o">/</span>

<span class="c1"># Test it out</span>
<span class="o">$</span><span class="w"> </span><span class="n">bleve</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="n">verses</span><span class="o">.</span><span class="n">bleve</span><span class="w"> </span><span class="s2">&quot;peace I give to you&quot;</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w"> </span><span class="mi">4</span>
<span class="mi">4491</span><span class="w"> </span><span class="n">matches</span><span class="p">,</span><span class="w"> </span><span class="n">showing</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">took</span><span class="w"> </span><span class="mf">13.866456</span><span class="n">ms</span>
<span class="w">    </span><span class="mf">1.</span><span class="w"> </span><span class="n">John</span><span class="o">-</span><span class="mi">14</span><span class="o">-</span><span class="mi">27</span><span class="o">-</span><span class="n">HCSB</span><span class="w"> </span><span class="p">(</span><span class="mf">0.614247</span><span class="p">)</span>
<span class="w">        </span><span class="n">Text</span>
<span class="w">                </span><span class="err">“</span><span class="n">Peace</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">leave</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">you</span><span class="o">.</span><span class="w"> </span><span class="n">My</span><span class="w"> </span><span class="n">peace</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">you</span><span class="o">.</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="n">gives</span><span class="o">.</span><span class="w"> </span><span class="n">Your</span><span class="w"> </span><span class="n">heart</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">troubled</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">fearful</span><span class="o">.</span>
<span class="w">    </span><span class="mf">2.</span><span class="w"> </span><span class="n">John</span><span class="o">-</span><span class="mi">14</span><span class="o">-</span><span class="mi">27</span><span class="o">-</span><span class="n">NIV</span><span class="w"> </span><span class="p">(</span><span class="mf">0.614247</span><span class="p">)</span>
<span class="w">        </span><span class="n">Text</span>
<span class="w">                </span><span class="n">Peace</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">leave</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">you</span><span class="p">;</span><span class="w"> </span><span class="n">my</span><span class="w"> </span><span class="n">peace</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">you</span><span class="o">.</span><span class="w">  </span><span class="n">I</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="n">gives</span><span class="o">.</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">hearts</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">troubled</span><span class="w">  </span><span class="ow">and</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">afraid</span><span class="o">.</span>
<span class="w">    </span><span class="mf">3.</span><span class="w"> </span><span class="n">John</span><span class="o">-</span><span class="mi">14</span><span class="o">-</span><span class="mi">27</span><span class="o">-</span><span class="n">ESV</span><span class="w"> </span><span class="p">(</span><span class="mf">0.601036</span><span class="p">)</span>
<span class="w">        </span><span class="n">Text</span>
<span class="w">                </span><span class="n">Peace</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">leave</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">you</span><span class="p">;</span><span class="w">  </span><span class="n">my</span><span class="w"> </span><span class="n">peace</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">you</span><span class="o">.</span><span class="w"> </span><span class="n">Not</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="n">gives</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">you</span><span class="o">.</span><span class="w">  </span><span class="n">Let</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">hearts</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">troubled</span><span class="p">,</span><span class="w"> </span><span class="n">neither</span><span class="w">  </span><span class="n">let</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">afraid</span><span class="o">.</span>
<span class="w">    </span><span class="mf">4.</span><span class="w"> </span><span class="n">John</span><span class="o">-</span><span class="mi">14</span><span class="o">-</span><span class="mi">27</span><span class="o">-</span><span class="n">KJV</span><span class="w"> </span><span class="p">(</span><span class="mf">0.588642</span><span class="p">)</span>
<span class="w">        </span><span class="n">Text</span>
<span class="w">                </span><span class="n">Peace</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">leave</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">you</span><span class="p">,</span><span class="w"> </span><span class="n">my</span><span class="w"> </span><span class="n">peace</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">unto</span><span class="w"> </span><span class="n">you</span><span class="p">:</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="n">giveth</span><span class="p">,</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">unto</span><span class="w"> </span><span class="n">you</span><span class="o">.</span><span class="w"> </span><span class="n">Let</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">heart</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">troubled</span><span class="p">,</span><span class="w"> </span><span class="n">neither</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">afraid</span><span class="o">.</span>
</code></pre></div>

<p>Not too bad.</p>
<h2>Step 4: Deploy updated application to Elastic Beanstalk App</h2>
<p>To do this, all I had to do was make sure that <code>verses.bleve</code> was in <a href="https://github.com/turtlemonvh/biblescholar/tree/master/search">the <code>search</code> directory</a> (the one with the Makefile) and run <code>make elbzip</code> to <a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/applications-sourcebundle.html">create the application source bundle</a>.  Then I went to my app's Elastic BeanStalk Dashboard page, clicked the "Upload and Deploy" button, and uploaded the zip file.  Once that was uploaded I just selected the new release package and clicked "Deploy" from the drop down menu.  A few minutes later, everything was deployed.</p>
<p><img src="/images/updating-biblescholar-elb-dashboard.png" alt="Updating BibleScholar ELB Dashboard" style="width: 100%; display: block; margin: 0 auto; border: 1px solid; padding: 3px;"/></p>
<p>Really, they make this stuff pretty simple.  I haven't even bothered using <a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html">the command line tools</a> since the dashboard is so quick to work with.</p>
<hr>
<p>And with that BibleScholar is now running with a more accurate record of scripture.  I hope this description of the processes was helpful - let me know in the comments below or find me <a href="https://twitter.com/turtlemonvh">on twitter</a>.</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://turtlemonvh.github.io/tag/python.html">python</a>
      <a href="https://turtlemonvh.github.io/tag/scraping.html">scraping</a>
      <a href="https://turtlemonvh.github.io/tag/biblescholar.html">biblescholar</a>
    </p>
  </div>






<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'turtlemonvh-github-io';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Systems Doing ",
  "url" : "https://turtlemonvh.github.io",
  "image": "//s.gravatar.com/avatar/fdb8ce54c398b1aa794833a601507361?s=120",
  "description": "Thoughts and writings"
}
</script>
</body>
</html>